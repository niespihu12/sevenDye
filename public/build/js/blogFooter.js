document.addEventListener("DOMContentLoaded",(function(){function e(e,n){n.innerHTML='<div class="loading">Buscando...</div>',n.classList.add("show"),fetch(`/blog/search?q=${encodeURIComponent(e)}`).then((e=>e.json())).then((e=>{e.length>0?function(e,n){n.innerHTML="";const t=document.createDocumentFragment();e.forEach((e=>{const n=document.createElement("a");n.href=`/blog/${e.slug}`,n.className="search-item";const s=e.imagen?`<div class="search-item-image">\n                    <img src="/imagenes/${e.imagen}" alt="${e.titulo}">\n                </div>`:"";n.innerHTML=`\n                ${s}\n                <div class="search-item-info">\n                    <div class="search-item-title">${e.titulo}</div>\n                    <div class="search-item-date">${e.creado}</div>\n                </div>\n            `,t.appendChild(n)})),n.appendChild(t)}(e,n):n.innerHTML='<div class="no-results">No se encontraron artículos</div>'})).catch((e=>{console.error("Error en la búsqueda:",e),n.innerHTML='<div class="error">Error al buscar artículos</div>'}))}!function(n,t){const s=document.getElementById(n),i=document.getElementById(t);s&&i&&(s.addEventListener("input",function(e,n){let t;return function(...s){const i=this;clearTimeout(t),t=setTimeout((()=>e.apply(i,s)),n)}}((function(n){const t=n.target.value.trim();t.length>=2?e(t,i):(i.innerHTML="",i.classList.remove("show"))}),300)),document.addEventListener("click",(function(e){s.contains(e.target)||i.contains(e.target)||i.classList.remove("show")})),s.addEventListener("focus",(function(){this.value.trim().length>=2&&e(this.value.trim(),i)})))}("blog-search-input","blog-search-results")}));