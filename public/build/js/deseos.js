document.querySelectorAll(".wishlist-remove").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target.closest("button").dataset.producto;try{const o=await fetch("/wishlist/delete",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({producto:t})});(await o.json()).resultado&&(e.target.closest(".deseo-item").remove(),0===document.querySelectorAll(".deseo-item").length&&(document.querySelector(".deseo-products").innerHTML="<p>Your wishlist is empty</p>"),window.location.reload())}catch(e){console.error("Error:",e)}}))}));