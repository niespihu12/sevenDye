document.addEventListener("DOMContentLoaded",(function(){if("undefined"==typeof shopConfig)return void console.error("Error: shopConfig no estÃ¡ definido");const n=document.getElementById("priceRange"),e=document.querySelector(".prices__range span:last-child"),t=document.querySelector(".prices__slider"),o=document.getElementById("enablePriceFilter"),i=document.getElementById("sortOrder"),r=document.querySelectorAll(".colors__dot");let s=shopConfig.categorySlug,c=shopConfig.minPrice,a=shopConfig.maxPrice,l=shopConfig.colorId,d=shopConfig.isPriceFilterActive;const p=shopConfig.minDbPrice,h=shopConfig.maxDbPrice,g=shopConfig.currencySymbol;function u(){let n=s?`/tienda/${encodeURIComponent(s)}`:"/tienda",e=[];const t=i?.value||"";t&&["precio_asc","precio_desc"].includes(t)&&e.push(`orden=${encodeURIComponent(t)}`),d&&(e.push("filtro_precio=1"),isNaN(c)||isNaN(a)||(e.push(`precio_min=${parseFloat(c)}`),e.push(`precio_max=${parseFloat(a)}`))),!isNaN(l)&&l>0&&e.push(`color=${parseInt(l)}`),e.length>0&&(n+="?"+e.join("&")),window.location.href=n}i&&i.addEventListener("change",u),n&&(n.addEventListener("input",(function(){const n=parseFloat(this.value);let o=0;this.max>this.min&&(o=(n-this.min)/(this.max-this.min)*100),t.style.setProperty("--slider-percentage",`${o}%`),e.textContent=`${g}${c.toFixed(2)} - ${g}${n.toFixed(2)}`,a=n})),n.addEventListener("change",(function(){u()}))),o&&o.addEventListener("change",(function(){d=this.checked,d?(t.style.opacity="1",n.disabled=!1):(t.style.opacity="0.5",n.disabled=!0,c=p,a=h),u()})),r.length>0&&r.forEach((n=>{n.addEventListener("click",(function(){r.forEach((n=>n.classList.remove("active"))),this.classList.add("active"),l=parseInt(this.dataset.colorId)||0,u()}))}));const m=document.createElement("style");m.textContent=`\n        .prices__slider {\n            position: relative;\n            width: 100%;\n            height: 2px;\n            background-color: #ccc;\n            margin: 1.5rem 0;\n            --slider-percentage: ${shopConfig.sliderPercentage}%;\n            transition: opacity 0.3s;\n        }\n        \n        .prices__slider::before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: var(--slider-percentage);\n            height: 100%;\n            background-color: #0077cc;\n        }\n        \n        .prices__slider::after {\n            content: '';\n            position: absolute;\n            left: var(--slider-percentage);\n            top: 50%;\n            transform: translate(-50%, -50%);\n            width: 15px;\n            height: 15px;\n            background-color: #0077cc;\n            border-radius: 50%;\n            cursor: pointer;\n        }\n        \n        .prices__input {\n            position: absolute;\n            top: -8px;\n            left: 0;\n            width: 100%;\n            height: 20px;\n            opacity: 0;\n            cursor: pointer;\n            z-index: 10;\n        }\n        \n        .prices__filter-toggle {\n            display: flex;\n            align-items: center;\n            margin-bottom: 1rem;\n            font-size: 1.3rem;\n        }\n        \n        .prices__filter-toggle input {\n            margin-right: 0.5rem;\n        }\n        \n        .colors__dot {\n            cursor: pointer;\n            transition: transform 0.2s;\n        }\n        \n        .colors__dot:hover {\n            transform: scale(1.2);\n        }\n        \n        .colors__dot.active {\n            border: 2px solid #000;\n            transform: scale(1.2);\n        }\n        \n        .color-all {\n            position: relative;\n        }\n        \n        .color-all::after {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: linear-gradient(135deg, red, orange, yellow, green, blue, indigo, violet);\n            border-radius: 50%;\n            opacity: 0.5;\n        }\n    `,document.head.appendChild(m)}));